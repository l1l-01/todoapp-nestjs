<!DOCTYPE html>
<html>
    <header>
        <title>Todo List</title>
        <link
          rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css"
        >
    </header>
  <body class="container is-flex is-flex-direction-column is-justify-content-center" style="min-height: 100vh;">
      <h2 class="title is-2 is-spaced has-text-centered">Todo List</h2>
      <form>
          <div class="control">
              <textarea
                class="textarea is-medium"
                placeholder="Medium textarea"
              ></textarea>
      </form>
    <div>
    <table class="table" style="width:100%">
      <% tasks.forEach((task,index) => { %>
            <thead>
              <tr>
                <th><abbr title="Task Id">Id</abbr></th>
                <th>Task</th>
                <th>Status</th>
                <th>Created At</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th class="<%= task.Completed ? 'is-selected' : 'is-warning' %>"><%= task.id %></th>
                <td>
                    <%= task.name %>
                </td>
                <td>
                    <%= task.Completed ? 'Completed' : 'Incompleted' %>
                </td>
                <td>
                    <% const createdAt = task.createdAt %>
                    <%= createdAt.toString().replace("GMT+0100 (GMT+01:00)", "") %>
                </td>
                <td class="is-flex">
                    <form style="margin-right: 10px;">
                        <button class="button is-danger is-outlined is-small">
                            Delete
                        </button>
                    </form>
                    <form style="margin-right: 10px;">
                        <button class="button is-success is-outlined is-small">
                          Mark as Completed
                        </button>
                    </form>
                    <form>
                        <button class="button is-warning is-outlined is-small">
                            Mark as incompleted
                        </button>
                    </form>
                </td>
              </tr>
            </tbody>
      <% }) %>
      <tfoot>
        <tr>
          <th>Total</th>
          <th><%= totalTasks %></th>
          <th><span class="has-text-success"><%= completedTasksTotal %></span> - <span class="has-text-warning"><%= incompleteTasksTotal %></span></th>
          <th>__</th>
          <th class="is-flex">
              <form style="margin-right: 10px;">
                  <button class="button is-danger is-outlined is-small">
                      Delete All
                  </button>
              </form>
              <form style="margin-right: 10px;">
                <button class="button is-success is-outlined is-small">
                    Mark all as Completed
                </button>
              </form>
              <form>
                  <button class="button is-warning is-outlined is-small">
                      Mark all as incompleted
                  </button>
              </form>
          </th>
        </tr>
      </tfoot>
    </table>
      </div>
  </body>
</html>
